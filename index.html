<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Travis' Internet Archive</title>
<body>
    <div class="header">
    <h1>Travis' Internet Archive</h1>

    <p class="subtitle">Last Updated: December 10, 2025</p>
    </div>
    <h2> Blog: Life's Adventures with Travis
        <a href="atom.xml" class="rss-link" title="Subscribe to RSS Feed">
            <img src="img/feed-icon-14x14.png">
        </a>
        <br>


    </h2>
    <form id="subscribe-form" class="subscribe" action="#" method="post">
        <marquee behavior="scroll" direction="right" scrollamount="4"><b>Subscribe to my mailing list!</b></marquee>
        <input id="email" name="email" type="email" placeholder="you@email.com" required>
        <button type="submit" id="submit-btn">Subscribe</button>
    </form>

    <p id="form-message" style="margin-top: 10px; font-weight: bold;"></p>

    <div class="grid">
        <a href="blogs/does_matcha_give_you_energy_01_03_2024.html" class="card">
            <div class="thumbnail"><img src="img/matcha.png" height="297px"></div>
            <div class="card-title">Does Matcha Give you Energy?</div>
            <div class="card-date">March 1 2024</div>
        </a>
    </div>
    <br>
    <hr>
    <a href="http://validator.w3.org/feed/check.cgi?url=https%3A//travisgraham.co/atom.xml">
        <img src="img/valid-atom.png" alt="[Valid Atom 1.0]" title="Validate my Atom 1.0 feed" />
    </a>

    <script>
        document.getElementById('subscribe-form').addEventListener('submit', function(e) {
            e.preventDefault(); // Stop page reload

            const email = document.getElementById('email').value;
            const messageBox = document.getElementById('form-message');
            const btn = document.getElementById('submit-btn');

            // UI Loading State
            btn.textContent = 'Sending...';
            btn.disabled = true;

            // REPLACE THIS WITH YOUR ACTUAL N8N WEBHOOK URL
            const webhookUrl = 'https://n8n.travisgraham.co/webhook/5edd1ea6-0130-4229-8240-05479a889267';

            fetch(webhookUrl, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({ email: email })
            })
            .then(response => {
                if (response.ok) {
                    messageBox.style.color = 'green';
                    messageBox.textContent = 'Thanks for subscribing!';
                    document.getElementById('n8n-form').reset();
                } else {
                    throw new Error('Network response was not ok');
                }
            })
            .catch(error => {
                console.error('Error:', error);
                messageBox.style.color = 'red';
                messageBox.textContent = 'Something went wrong. Please try again.';
            })
            .finally(() => {
                btn.textContent = 'Subscribe';
                btn.disabled = false;
            });
        });
    </script>
</body>